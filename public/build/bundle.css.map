{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte"
  ],
  "sourcesContent": [
    "<style>\n\t:root {\n\t\t--main-unit-dim: 40px;\n\t}\n\ttd {\n\t\twidth: var(--main-unit-dim);\n\t\tline-height: var(--main-unit-dim);\n\t\theight: var(--main-unit-dim);\n\t\tfont-size: 36px;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\ttable {\n\t\tborder-spacing: 0;\n\t}\n</style>\n\n<script>\t\n\timport io from '../node_modules/socket.io-client/dist/socket.io.js';\n\timport { MapUpdate, OrderType, PlayerUpdate, OrderUpdate, MapRow } from './proto/messages.js';\n\timport chefmoji from './proto/messages.js';\n\tconsole.log(chefmoji);\n\n\tlet map = [];\n\t// let map = [\n\t// \t['W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W'],\n\t// \t['W','F','Füßà','F','Fü•ö','F','F','W','T','T','Tüö∞','T','T‚ô®Ô∏è','T','T','Tüî™','T','T','T','W'],\n\t// \t['W','F','G','G','G','G','Fü•õ','W','Tüåæ','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','Fü•ï','G','G','G','G','F','W','T','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','G','G','G','G','FüßÄ','W','Tüçö','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','Fü•¨','G','G','G','G','F','W','T','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','G','G','G','G','G','G','G','G','G','G','G','G','G','G','G','G','G‚û°Ô∏è','G‚û°Ô∏è'],\n\t// \t['W','FüçÖ','G','G','G','G','F','W','T','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','G','G','G','G','Fü•©','W','Tüçû','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','G','G','G','G','F','W','T','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','G','G','G','G','Füêü','W','TüßÖ','G','G','G','G','G','G','G','G','G','T','W'],\n\t// \t['W','F','F','F','Füêñ','F','F','W','T','T','Tü•î','T','TüßÑ','T','T','TüçΩÔ∏è','T','T','T','W'],\n\t// \t['W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W','W'],\n\t// ];\n\t\n\n\tconst socket = io('http://localhost:5000');\n\n\tconst TEST_GAME_SESSION = '1aLc90';\n\n\tsocket.on('connect', () => {\n\t\tconsole.log(socket.id);\n\t});\n\n\tsocket.on('accepting-connections', () => {\n\t\tconsole.log('Server has notified me that it\\'s accepting connections. Time to join the game!');\n\t\tsocket.emit('join-req', new Map([['id', TEST_GAME_SESSION]]));\n\t});\n\n\tsocket.on('tick', (data) => {\n\t\tif (data){\n\t\t\tlet bytes =  new Uint8Array(data);\n\t\t\tlet decoded = MapUpdate.decode(bytes);\n\t\t\tmap = decoded.map;\n\t\t}\n\t})\n\n\tconst WALL = '#000';\n\tconst TABLE = '#ecb476';\n\tconst FLOOR = '#fff';\n\tconst FRIDGE = '#75c3d1';\n\t\n\tclass Player {\n\t\tconstructor(r, c, emoji) {\n\t\t\tthis.r = r;\n\t\t\tthis.c = c;\n\t\t\tthis.emoji = emoji;\n\t\t}\n\t}\n\n\tfunction handleKeydown(event) {\n\t\tlet key = event.key;\n\t\tlet game_id = TEST_GAME_SESSION;\n\t\t// Purely to prevent well meaning actors to unnecessarily send key events across the connection\n\t\tif(validKey(key)){\n\t\t\tconsole.log(key);\n\t\t\tsocket.emit('keypress', key, game_id);\n\t\t}\n\t}\n\n\tfunction validKey(key){\n\t\treturn ['w', 'a', 's', 'd', 'e', 'ArrowUp', 'ArrowLeft', 'ArrowDown', 'ArrowRight'].includes(key)\n\t}\n\n\tfunction cellToColor(cell){\n\t\tswitch (cell){\n\t\t\tcase 'W':\n\t\t\t\treturn WALL;\n\t\t\tcase 'F':\n\t\t\t\treturn FRIDGE;\n\t\t\tcase 'T':\n\t\t\t\treturn TABLE;\n\t\t\tcase 'G':\n\t\t\t\treturn FLOOR;\n\t\t}\n\t}\n\n\tfunction cellToEmoji(cell){\n\t\tswitch (cell){\n\t\t\tcase 'r':\n\t\t\t\treturn 'üö∞'\n\t\t\tcase 'T':\n\t\t\tcase ' ':\n\t\t\tcase 'W':\n\t\t\tcase 'F':\n\t\t\t\treturn ' '\n\t\t\tcase '0':\n\t\t\t\treturn '‚ô®Ô∏è'\n\t\t\tcase 'K':\n\t\t\t\treturn 'üî™'\n\t\t\tdefault:\n\t\t\t\treturn cell\n\t\t}\n\t}\n\t\n</script>\n\n<svelte:window on:keydown={handleKeydown}/>\n\n<table>\n\t{#each map as row}\n\t\t<tr>\n\t\t\t{#each row.row as cell}\n\t\t\t\t<td style='background-color: {cellToColor(cell.charAt(0))}'>\n\t\t\t\t\t{#if cell}\n\t\t\t\t\t\t{cell.slice(1)}\n\t\t\t\t\t{/if}\n\t\t\t\t</td>\n\t\t\t{/each}\n\t\t</tr>\n\t{/each}\n</table>\n"
  ],
  "names": [],
  "mappings": "AACC,KAAK,AAAC,CAAC,AACN,eAAe,CAAE,IAAI,AACtB,CAAC,AACD,EAAE,eAAC,CAAC,AACH,KAAK,CAAE,IAAI,eAAe,CAAC,CAC3B,WAAW,CAAE,IAAI,eAAe,CAAC,CACjC,MAAM,CAAE,IAAI,eAAe,CAAC,CAC5B,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,CAAC,AACV,CAAC,AACD,KAAK,eAAC,CAAC,AACN,cAAc,CAAE,CAAC,AAClB,CAAC"
}